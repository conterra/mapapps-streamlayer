{
  "properties": {
    "title": "StreamLayer Sample"
  },
  "load": {
    "bundleLocations": [
      "localbundles",
      "bundles"
    ],
    "allowedBundles": [
      "custominfo",
      "streamlayerservice",
      "system",
      "splashscreen",
      "map",
      "toolset",
      "console",
      "themes",
      "templates",
      "templatelayout",
      "toolrules",
      "banner"
    ],
    "require": [
      "${app}.app"
    ],
    "i18n": [
      "bundle"
    ]
  },
  "bundles": {
    "banner": {
      "BannerWidget": {
        "label": "Developer Network",
        "image": "https://www.conterra.de/~/media/conterra/images/site_logos/conterra-logo.ashx",
        "imagePosition": "above",
        "link": "http://developernetwork.conterra.de"
      }
    },
    "custominfo": {
      "CustomInfoToggleTool": [
        {
          "widgetSettings": {
            "content": "${application.description}",
            "window": {
              "marginBox": {
                "w": 280,
                "h": 270,
                "t": 60,
                "l": 20
              },
              "draggable": true,
              "closable": true,
              "modal": false,
              "maximizable": false,
              "resizable": true,
              "title": "${application.infoTitle}"
            }
          },
          "rules": {
            "groups": "custominfo",
            "activateOnStartup": true
          },
          "type": "IMPRINT",
          "toolClass": "ctInfo",
          "title": "${application.infoTitle}",
          "tooltip": "${application.infoTitle}",
          "togglable": true,
          "id": "AppInfoCustomInfoTool"
        }
      ],
      "enabled": true
    },
    "map": {
      "MappingResourceRegistryFactory": {
        "_knownServices": {
          "services": [
            {
              "id": "satellite_streamlayer",
              "url": "wss://geoeventsample3.esri.com:8443/arcgis/ws/services/WorldSatellites/StreamServer/subscribe",
              "type": "STREAM_LAYER"
            },
            {
              "id": "lightbase",
              "url": "http://services.arcgisonline.com/arcgis/rest/services/Canvas/World_Light_Gray_Base/MapServer",
              "type": "AGS_TILED"
            }
          ]
        }
      },
      "MapState": {
        "initialExtent": {
          "xmin": -18014708.333775878,
          "ymin": -5496791.105604958,
          "xmax": 16352013.099489005,
          "ymax": 12153435.96977697,
          "spatialReference": {
            "wkid": 3857
          }
        }
      },
      "MapModelFactory": {
        "_configData": {
          "maps": [
            {
              "id": "default",
              "glass_pane": [],
              "operationalLayer": [
            {
              "title": "${service.satellite.title}",
              "enabled": true,
              "service": "satellite_streamlayer",
              "wkid": "3857",
              "displayCount": "1000",
              "infoTemplate": {
                "title": "Satellite Name: ${SatelliteName}",
                "content": "Timestamp: ${DateTimeStamp}<br>Altitude: ${AltitudeMeters}m<br>Heading: ${Heading}\u00B0"
              },
              "symbol": {
                "type": "esriPMS",
                "url": "resource('${app}:images/satellite.png')",
                "contentType": "image/png",
                "color": null,
                "width": 32,
                "height": 32,
                "angle": 0,
                "xoffset": 0,
                "yoffset": 0
              }
            }
          ],
          "baseLayer": [
            {
              "id": "background1",
              "title": "${service.lightbase}",
              "service": "lightbase",
              "layers": [
                "*"
              ],
              "enabled": true
            }
          ]
        }
      ]
      }
    }
  },
  "themes": {
    "ThemeSelector": {
      "componentEnabled": false
    }
  },
  "templates": {
    "TemplateSelector": {
      "componentEnabled": false
    }
  },
  "toolset": {
    "ToolsetManager": {
      "toolsets": [
        {
          "id": "mapview_tools",
          "title": "${toolsets.mapviewTools}",
          "tooltip": "${toolsets.mapviewToolsTooltip}",
          "tools": [
            "zoomInClickTool",
            "zoomOutClickTool",
            "locateme",
            "magnifier",
            "overviewmap",
            "AppInfoCustomInfoTool",
            "*CustomInfoTool"
          ],
          "container": "map",
          "max_horizontal": 1,
          "windowType": "css_positioned",
          "cssClass": "notitle muted mapview_tools",
          "deactivateToolsOnHide": true
        }
      ]
    }
  }
}
}